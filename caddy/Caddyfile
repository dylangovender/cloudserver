{$DOMAIN_TRANS} {
  encode gzip

  # Basic auth (bcrypt hash from .env)
  basic_auth {
    {$BASIC_AUTH_USER} {$BASIC_AUTH_HASH}
  }

  # Security headers (safe, built-in)
  header {
    Strict-Transport-Security "max-age=31536000; includeSubDomains; preload"
    X-Content-Type-Options "nosniff"
    X-Frame-Options "DENY"
    Referrer-Policy "no-referrer"
  }

  # Reverse proxy to Transmission inside the Docker network
  reverse_proxy http://transmission:9091
}
